(()=>{"use strict";var t={};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=o(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},a.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();var f=function(){function t(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e(this,t),this.y=i,this.x=n,this.img=new Image,this.img.src=r,this.shiftX=o,this.shiftY=a}return i(t,[{key:"width",get:function(){return this.img.width}},{key:"height",get:function(){return this.img.height}},{key:"move",value:function(){this.x=this.x+this.shiftX,this.y=this.y+this.shiftY}},{key:"draw",value:function(t){t.drawImage(this.img,this.x,this.y)}},{key:"stopMoving",value:function(){this.shiftX=0,this.shiftY=0}}]),t}();function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}var p=function(t){c(o,t);var n=l(o);function o(t,i,r){var a;return e(this,o),(a=n.call(this,t,i,"./images/balle24.png",8,4)).theGame=r,a}return i(o,[{key:"move",value:function(){this.y<=0||this.y+this.height>=this.theGame.canvas.height?this.shiftY=-this.shiftY:(this.x<=0||this.x+this.width>=this.theGame.canvas.width)&&(this.shiftX=-this.shiftX),a(r(o.prototype),"move",this).call(this)}}]),o}(f);const y=t.p+"images/paddle.png";function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}var v=function(t){c(o,t);var n=d(o);function o(t,i,r){var a;return e(this,o),(a=n.call(this,t,i,y,2,2)).theGame=r,a}return i(o,[{key:"moveUp",value:function(){this.shiftY=-Math.abs(this.shiftY)}},{key:"moveDown",value:function(){this.shiftY=Math.abs(this.shiftY),console.log("BLA")}},{key:"move",value:function(){(this.y<=0||this.y+this.height>=this.theGame.canvas.height)&&(this.y=Math.max(0,this.y+this.shiftY)),a(r(o.prototype),"move",this).call(this)}}]),o}(f),w=function(){function t(n){e(this,t),this.raf=null,this.canvas=n,this.ball=new p(this.canvas.width/2,this.canvas.height/2,this),this.paddle=new v(20,this.canvas.height/2,this)}return i(t,[{key:"start",value:function(){this.animate()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.raf)}},{key:"animate",value:function(){this.moveAndDraw(),this.raf=window.requestAnimationFrame(this.animate.bind(this))}},{key:"moveAndDraw",value:function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),this.ball.move(),this.ball.draw(t),this.paddle.draw(t),this.paddle.move()}},{key:"keyDownActionHandler",value:function(t){switch(t.key){case"ArrowUp":case"Up":this.paddle.moveUp();break;case"ArrowDown":case"Down":this.paddle.moveDown();break;default:return}t.preventDefault()}},{key:"keyUpActionHandler",value:function(t){switch(t.key){case"ArrowUp":case"Up":this.paddle.moveDown()||this.paddle.stopMoving();break;case"ArrowDown":case"Down":this.paddle.moveUp()||this.paddle.stopMoving();break;default:return}t.preventDefault()}}]),t}();window.addEventListener("load",(function(){var t=document.getElementById("field"),e=new w(t);document.getElementById("start").addEventListener("click",(function(){return g(e)})),window.addEventListener("keydown",e.keyDownActionHandler.bind(e)),window.addEventListener("keyup",e.keyUpActionHandler.bind(e))}));var m=!1,g=function(t){m?(document.getElementById("start").value="jouer",t.stop()):(t.start(),document.getElementById("start").value="stop"),m=!m}})();